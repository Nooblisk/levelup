<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="css/semantic.min.css">

</head>
<body>
<h1></h1>
<div class="ui container">

    <button id="buttonLogin" class="ui button" type="submit">Login</button>

    <form id="loginForm" class="ui form" style="display: none">
        <div id="loginField" class="required field">
            <label>Login</label>
            <input id= "loginInput" type="text" name="first-name" placeholder="test">
        </div>
        <div id="passwordField" class="required field">
            <label>Password</label>
            <input id="passwordInput" type="text" name="last-name" placeholder="test">
        </div>
    </form>


   <!-- <button id="buttonHide" class="ui button">
        Hide
    </button>-->


<button id="buttonPost" class="ui button" type="submit">Post</button>
    <button id="buttonGet" class="ui button" type="submit">Get</button>
    <button id="buttonUpdateFeatures" class="ui button" type="submit">Update Features</button>







    <h4 id="headerText" class="ui header"></h4>
    <h4 id="headerText2" class="ui header"></h4>
    <h4 id="headerText3" class="ui header"></h4>
    <h4 id="headerText4" class="ui header"></h4>

    <div class="ui equal width grid">
        <div class="ui row">
            <div class="column">
                <div id="labelSkill0" class="ui image green large label">
                    <img id="imgSkill0" src="http://lorempixel.com/640/480/?3457">
                    Скилл
                </div>
            </div>
            <div class="column">
                <div id="labelSkill1" class="ui green image large label">
                    <img id="imgSkill1" src="http://lorempixel.com/640/480/?3457">
                    Скилл
                </div>
            </div>
            <div class="column">
                <div id="labelSkill2" class="ui image green large label">
                    <img id="imgSkill2" src="http://lorempixel.com/640/480/?3457">
                    Скилл
                </div>
            </div>
            <div class="column">
                <div id="labelSkill3" class="ui image green large label">
                    <img id="imgSkill3" src="http://lorempixel.com/640/480/?3457">
                    Скилл
                </div>
            </div>
            <div class="column">
                <div id="labelSkill4" class="ui image green large label">
                    <img id="imgSkill4" src="http://lorempixel.com/640/480/?3457">
                    Скилл
                </div>
            </div>
        </div>
        </div>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="js/semantic.min.js"></script>
<script>
    $( "#buttonLogin" ).click(function(){
        //alert("asasdasdasd");
        $( "#loginForm" ).fadeIn();
    });

var username1, password1;
    $( "#loginInput" )
            .keyup(function(){
                username1 = $( this ).val();
            }).keyup();

    $( "#passwordInput" )
            .keyup(function(){
                password1 = $( this ).val();
            }).keyup();





    /*$( "#buttonHide" ).click(function(){
        //alert("asasdasdasd");
        $( "#loginForm" ).fadeOut();
    });*/
</script>
<script>
    var Obj, Obj2;
    $( "#buttonPost").click(function(){
        $.post("/app_dev.php/api/oauth/v2/token", {grant_type: "password", client_id: "1_web", client_secret: "web", username: username1, password: password1}).success(function(a){
            Obj=a;
            /*var s = '{\n';
            for (var p in a)
                s += '    "' + p + '": "' + a[p] + '"\n';*/
            $("#headerText").text(JSON.stringify(Obj));
            //$("#headerText2").text(username1 + " " + password1);
            $( "#loginForm" ).fadeOut();

        });
    });



    $( "#buttonGet").click(function() {
        $.ajax({
            method: "GET",
            url: "/app_dev.php/api/features",
            headers: { Authorization: 'Bearer ' + Obj.access_token}
        }).success(function(z) {
            Obj2 = z;
            $("#headerText3").text(JSON.stringify(Obj2));
            //$("#headerText4").text(Obj2.features[0].image_url);


        });
    });


    $( "#buttonUpdateFeatures").click(function() {
        for(var i=0; i<5; i++){
            $("#imgSkill" + i).attr("src", Obj2.features[i].image_url);
            $("#labelSkill" + i).contents().last().replaceWith(Obj2.features[i].title + " lvl " + Obj2.features[i].level);
        }
    });





/*function Ucfirst(str){
    if (!str) return str;
    return str[0].toUpperCase() + str.substring(1);
}*/


</script>


</body>
</html>